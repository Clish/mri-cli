import React from 'react';
import {Route} from 'react-router';
import $theme from 'src/theme';
import $routeGuard from 'src/theme/<%=theme%>/<%=theme%>-route-guard';

export default (args) => {
    const {render, ...rest} = args;
    const {location} = rest;
    const {pathname} = location;
    const module = $theme.reRoutes()[pathname];

    return <Route {...rest} render={(props) => $routeGuard(module, props) ? render(props) : null} />;
}
