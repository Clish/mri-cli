#!/usr/bin/env node

'use strict';

const _program = require('commander');
const _path = require('path');
const _join = _path.join;
const _ = require('lodash');
const $template = require('../service/template');
const $root = require('../service/root');
const $MriVersion = require('../service/mri-version');
const $Bus = require('../service/bus');
const _which = require('which');
const _shell = require('shelljs');
const _spawn = require('cross-spawn');

_program
    .usage('test [options]')
    .option('-m, --mri [mri]', 'mri所在路径（no ln)')
    .parse(process.argv);

console.debug(_program);

// 批量生成 theme 的文件
// let themes = $root.getThemes(null);
// _.each(themes, (theme) => {
//     $template.create(
//         {
//             theme,
//         },
//         '../template/project/theme/{theme}-preset.ts.ejs',
//         `src/theme/${theme}/${theme}-preset.ts`,
//     );
// });

// $Bus.mriUpdate();

// _which('node', (er) => {
//     if(er) {
//         _shell.echo('asas')
//     } else {
//         _shell.echo('mri asas')
//     }
// });
//
// var resolved = _which.sync('node', (er) => {
//     if(er) {
//         _shell.echo('asas 1111')
//     } else {
//         _shell.echo('mri asas 222')
//     }
// });
//
// console.log( __dirname );
//
// _spawn('/Users/Mizi/git/mri-cli/bin/mri', ['interface', '-i'], { stdio: "inherit" });
