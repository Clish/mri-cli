#!/usr/bin/env node

'use strict';

const _program = require('commander');

const $run = require('../lib/common/run');
const $log = require('../lib/common/log');
const $git = require('../lib/services/git');
const $_branch = require('../lib/module/branch');

/**
 * ----------------
 * 主程序
 * ----------------
 */
_program
    .usage('release <projectname:version> [options]')
    .option('-f, --force', '强力开启')
    .parse(process.argv);

$run.branch('master', () => {
    $run.root(() => {
        $_branch.getPatch('release', (project, version) => {
            $_branch.create(project, version);
        });
    });
});
